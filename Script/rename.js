// 2025-02-25 17:35

const inArg = $arguments;
const boolArg = (v, d = false) => {
  if (v == null || v === "") return d;
  return /^(true|1|on|yes)$/i.test(v) ? true : /^(false|0|off|no)$/i.test(v) ? false : !!v;
};

const config = {
  clear: boolArg(inArg.clear, true),
  flag:  boolArg(inArg.flag, true),
  fgf:   inArg.fgf ? decodeURI(inArg.fgf) : " ",
};

const RE_CLEAR = /(GB|TB|å…è´¹|å¥—é¤|åˆ°æœŸ|å‰©ä½™|è¿‡æœŸ|æµ‹è¯•|å®˜ç½‘|è®¢é˜…|æµé‡|æœºåœº|è”ç³»|å®¢æœ|æœ‰æ•ˆ|é‡ç½®|ç½‘ç«™|åœ°å€)/i;
const RE_HOME = /(å®¶å®½|ä½å®…|ISP|Home|Residential)/i;

const REGIONS = [
  { re: /\bHK\b|Hong\s?Kong/i, name: "é¦™æ¸¯", emoji: "ðŸ‡­ðŸ‡°" },
  { re: /\bTW\b|Taiwan/i, name: "å°æ¹¾", emoji: "ðŸ‡¨ðŸ‡³" },
  { re: /\bMO\b|Macao/i, name: "æ¾³é—¨", emoji: "ðŸ‡²ðŸ‡´" },
  { re: /\bJP\b|Japan/i, name: "æ—¥æœ¬", emoji: "ðŸ‡¯ðŸ‡µ" },
  { re: /\bKR\b|Korea/i, name: "éŸ©å›½", emoji: "ðŸ‡°ðŸ‡·" },
  { re: /\bSG\b|Singapore/i, name: "æ–°åŠ å¡", emoji: "ðŸ‡¸ðŸ‡¬" },
  { re: /\bUS\b|USA|United\s?States/i, name: "ç¾Žå›½", emoji: "ðŸ‡ºðŸ‡¸" },
  { re: /\bUK\b|United\s?Kingdom|Britain/i, name: "è‹±å›½", emoji: "ðŸ‡¬ðŸ‡§" },
  { re: /\bVN\b|Vietnam/i, name: "è¶Šå—", emoji: "ðŸ‡»ðŸ‡³" },
  { re: /\bDE\b|Germany/i, name: "å¾·å›½", emoji: "ðŸ‡©ðŸ‡ª" },
  { re: /\bFR\b|France/i, name: "æ³•å›½", emoji: "ðŸ‡«ðŸ‡·" },
  { re: /\bRU\b|Russia/i, name: "ä¿„ç½—æ–¯", emoji: "ðŸ‡·ðŸ‡º" },
  { re: /\bTH\b|Thailand/i, name: "æ³°å›½", emoji: "ðŸ‡¹ðŸ‡­" },
  { re: /\bPH\b|Philippines/i, name: "è²å¾‹å®¾", emoji: "ðŸ‡µðŸ‡­" },
  { re: /\bMY\b|Malaysia/i, name: "é©¬æ¥è¥¿äºš", emoji: "ðŸ‡²ðŸ‡¾" },
  { re: /\bTR\b|Turkey/i, name: "åœŸè€³å…¶", emoji: "ðŸ‡¹ðŸ‡·" },
  { re: /\bIN\b|India/i, name: "å°åº¦", emoji: "ðŸ‡®ðŸ‡³" },
  { re: /\bID\b|Indonesia/i, name: "å°å°¼", emoji: "ðŸ‡®ðŸ‡©" },
  { re: /\bIL\b|Israel/i, name: "ä»¥è‰²åˆ—", emoji: "ðŸ‡®ðŸ‡±" },
  { re: /\bAM\b|Armenia/i, name: "äºšç¾Žå°¼äºš", emoji: "ðŸ‡¦ðŸ‡²" },
  { re: /\bAU\b|Australia/i, name: "æ¾³å¤§åˆ©äºš", emoji: "ðŸ‡¦ðŸ‡º" },
  { re: /\bNZ\b|New\s?Zealand/i, name: "æ–°è¥¿å…°", emoji: "ðŸ‡³ðŸ‡¿" },
  { re: /\bCA\b|Canada/i, name: "åŠ æ‹¿å¤§", emoji: "ðŸ‡¨ðŸ‡¦" },
  { re: /\bMX\b|Mexico/i, name: "å¢¨è¥¿å“¥", emoji: "ðŸ‡²ðŸ‡½" },
  { re: /\bBR\b|Brazil/i, name: "å·´è¥¿", emoji: "ðŸ‡§ðŸ‡·" },
  { re: /\bAR\b|Argentina/i, name: "é˜¿æ ¹å»·", emoji: "ðŸ‡¦ðŸ‡·" },
  { re: /\bCL\b|Chile/i, name: "æ™ºåˆ©", emoji: "ðŸ‡¨ðŸ‡±" },
  { re: /\bCO\b|Colombia/i, name: "å“¥ä¼¦æ¯”äºš", emoji: "ðŸ‡¨ðŸ‡´" },
  { re: /\bPE\b|Peru/i, name: "ç§˜é²", emoji: "ðŸ‡µðŸ‡ª" },
  { re: /\bIT\b|Italy/i, name: "æ„å¤§åˆ©", emoji: "ðŸ‡®ðŸ‡¹" },
  { re: /\bES\b|Spain/i, name: "è¥¿ç­ç‰™", emoji: "ðŸ‡ªðŸ‡¸" },
  { re: /\bNL\b|Netherlands/i, name: "è·å…°", emoji: "ðŸ‡³ðŸ‡±" },
  { re: /\bCH\b|Switzerland/i, name: "ç‘žå£«", emoji: "ðŸ‡¨ðŸ‡­" },
  { re: /\bSE\b|Sweden/i, name: "ç‘žå…¸", emoji: "ðŸ‡¸ðŸ‡ª" },
  { re: /\bNO\b|Norway/i, name: "æŒªå¨", emoji: "ðŸ‡³ðŸ‡´" },
  { re: /\bDK\b|Denmark/i, name: "ä¸¹éº¦", emoji: "ðŸ‡©ðŸ‡°" },
  { re: /\bFI\b|Finland/i, name: "èŠ¬å…°", emoji: "ðŸ‡«ðŸ‡®" },
  { re: /\bAT\b|Austria/i, name: "å¥¥åœ°åˆ©", emoji: "ðŸ‡¦ðŸ‡¹" },
  { re: /\bBE\b|Belgium/i, name: "æ¯”åˆ©æ—¶", emoji: "ðŸ‡§ðŸ‡ª" },
  { re: /\bIE\b|Ireland/i, name: "çˆ±å°”å…°", emoji: "ðŸ‡®ðŸ‡ª" },
  { re: /\bPT\b|Portugal/i, name: "è‘¡è„ç‰™", emoji: "ðŸ‡µðŸ‡¹" },
  { re: /\bGR\b|Greece/i, name: "å¸Œè…Š", emoji: "ðŸ‡¬ðŸ‡·" },
  { re: /\bCZ\b|Czech/i, name: "æ·å…‹", emoji: "ðŸ‡¨ðŸ‡¿" },
  { re: /\bPL\b|Poland/i, name: "æ³¢å…°", emoji: "ðŸ‡µðŸ‡±" },
  { re: /\bUA\b|Ukraine/i, name: "ä¹Œå…‹å…°", emoji: "ðŸ‡ºðŸ‡¦" },
  { re: /\bRO\b|Romania/i, name: "ç½—é©¬å°¼äºš", emoji: "ðŸ‡·ðŸ‡´" },
  { re: /\bHU\b|Hungary/i, name: "åŒˆç‰™åˆ©", emoji: "ðŸ‡­ðŸ‡º" },
  { re: /\bAE\b|UAE|United\s?Arab\s?Emirates/i, name: "é˜¿è”é…‹", emoji: "ðŸ‡¦ðŸ‡ª" },
  { re: /\bSA\b|Saudi\s?Arabia/i, name: "æ²™ç‰¹", emoji: "ðŸ‡¸ðŸ‡¦" },
  { re: /\bZA\b|South\s?Africa/i, name: "å—éž", emoji: "ðŸ‡¿ðŸ‡¦" },
  { re: /\bEG\b|Egypt/i, name: "åŸƒåŠ", emoji: "ðŸ‡ªðŸ‡¬" },
  { re: /\bKH\b|Cambodia/i, name: "æŸ¬åŸ”å¯¨", emoji: "ðŸ‡°ðŸ‡­" },
  { re: /\bMM\b|Myanmar/i, name: "ç¼…ç”¸", emoji: "ðŸ‡²ðŸ‡²" },
  { re: /\bLA\b|Laos/i, name: "è€æŒ", emoji: "ðŸ‡±ðŸ‡¦" },
  { re: /\bPK\b|Pakistan/i, name: "å·´åŸºæ–¯å¦", emoji: "ðŸ‡µðŸ‡°" },
  { re: /\bKZ\b|Kazakhstan/i, name: "å“ˆè¨å…‹æ–¯å¦", emoji: "ðŸ‡°ðŸ‡¿" },
  { re: /\bUZ\b|Uzbekistan/i, name: "ä¹Œå…¹åˆ«å…‹æ–¯å¦", emoji: "ðŸ‡ºðŸ‡¿" },
  { re: /\bJO\b|Jordan/i, name: "çº¦æ—¦", emoji: "ðŸ‡¯ðŸ‡´" },
  { re: /\bQA\b|Qatar/i, name: "å¡å¡”å°”", emoji: "ðŸ‡¶ðŸ‡¦" },
  { re: /\bKW\b|Kuwait/i, name: "ç§‘å¨ç‰¹", emoji: "ðŸ‡°ðŸ‡¼" },
  { re: /\bBD\b|Bangladesh/i, name: "å­ŸåŠ æ‹‰", emoji: "ðŸ‡§ðŸ‡©" },
  { re: /\bLK\b|Sri\s?Lanka/i, name: "æ–¯é‡Œå…°å¡", emoji: "ðŸ‡±ðŸ‡°" },
  { re: /\bNP\b|Nepal/i, name: "å°¼æ³Šå°”", emoji: "ðŸ‡³ðŸ‡µ" },
  { re: /\bMN\b|Mongolia/i, name: "è’™å¤", emoji: "ðŸ‡²ðŸ‡³" },
  { re: /\bMV\b|Maldives/i, name: "é©¬å°”ä»£å¤«", emoji: "ðŸ‡²ðŸ‡»" },
  { re: /\bBT\b|Bhutan/i, name: "ä¸ä¸¹", emoji: "ðŸ‡§ðŸ‡¹" },
  { re: /\bBN\b|Brunei/i, name: "æ–‡èŽ±", emoji: "ðŸ‡§ðŸ‡³" },
  { re: /\bAF\b|Afghanistan/i, name: "é˜¿å¯Œæ±—", emoji: "ðŸ‡¦ðŸ‡«" },
  { re: /\bIQ\b|Iraq/i, name: "ä¼Šæ‹‰å…‹", emoji: "ðŸ‡®ðŸ‡¶" },
  { re: /\bLB\b|Lebanon/i, name: "é»Žå·´å«©", emoji: "ðŸ‡±ðŸ‡§" },
  { re: /\bYE\b|Yemen/i, name: "ä¹Ÿé—¨", emoji: "ðŸ‡¾ðŸ‡ª" },
  { re: /\bOM\b|Oman/i, name: "é˜¿æ›¼", emoji: "ðŸ‡´ðŸ‡²" },
  { re: /\bBH\b|Bahrain/i, name: "å·´æž—", emoji: "ðŸ‡§ðŸ‡­" },
  { re: /\bGE\b|Georgia/i, name: "æ ¼é²å‰äºš", emoji: "ðŸ‡¬ðŸ‡ª" },
  { re: /\bAZ\b|Azerbaijan/i, name: "é˜¿å¡žæ‹œç–†", emoji: "ðŸ‡¦ðŸ‡¿" },
  { re: /\bTM\b|Turkmenistan/i, name: "åœŸåº“æ›¼æ–¯å¦", emoji: "ðŸ‡¹ðŸ‡²" },
  { re: /\bTJ\b|Tajikistan/i, name: "å¡”å‰å…‹æ–¯å¦", emoji: "ðŸ‡¹ðŸ‡¯" },
  { re: /\bKG\b|Kyrgyzstan/i, name: "å‰å°”å‰æ–¯æ–¯å¦", emoji: "ðŸ‡°ðŸ‡¬" },
  { re: /\bCY\b|Cyprus/i, name: "å¡žæµ¦è·¯æ–¯", emoji: "ðŸ‡¨ðŸ‡¾" },
  { re: /\bIS\b|Iceland/i, name: "å†°å²›", emoji: "ðŸ‡®ðŸ‡¸" },
  { re: /\bLU\b|Luxembourg/i, name: "å¢æ£®å ¡", emoji: "ðŸ‡±ðŸ‡º" },
  { re: /\bSK\b|Slovakia/i, name: "æ–¯æ´›ä¼å…‹", emoji: "ðŸ‡¸ðŸ‡°" },
  { re: /\bBG\b|Bulgaria/i, name: "ä¿åŠ åˆ©äºš", emoji: "ðŸ‡§ðŸ‡¬" },
  { re: /\bHR\b|Croatia/i, name: "å…‹ç½—åœ°äºš", emoji: "ðŸ‡­ðŸ‡·" },
  { re: /\bSI\b|Slovenia/i, name: "æ–¯æ´›æ–‡å°¼äºš", emoji: "ðŸ‡¸ðŸ‡®" },
  { re: /\bEE\b|Estonia/i, name: "çˆ±æ²™å°¼äºš", emoji: "ðŸ‡ªðŸ‡ª" },
  { re: /\bLV\b|Latvia/i, name: "æ‹‰è„±ç»´äºš", emoji: "ðŸ‡±ðŸ‡»" },
  { re: /\bLT\b|Lithuania/i, name: "ç«‹é™¶å®›", emoji: "ðŸ‡±ðŸ‡¹" },
  { re: /\bBY\b|Belarus/i, name: "ç™½ä¿„ç½—æ–¯", emoji: "ðŸ‡§ðŸ‡¾" },
  { re: /\bMD\b|Moldova/i, name: "æ‘©å°”å¤šç“¦", emoji: "ðŸ‡²ðŸ‡©" },
  { re: /\bAL\b|Albania/i, name: "é˜¿å°”å·´å°¼äºš", emoji: "ðŸ‡¦ðŸ‡±" },
  { re: /\bBA\b|Bosnia/i, name: "æ³¢é»‘", emoji: "ðŸ‡§ðŸ‡¦" },
  { re: /\bME\b|Montenegro/i, name: "é»‘å±±", emoji: "ðŸ‡²ðŸ‡ª" },
  { re: /\bMK\b|Macedonia/i, name: "åŒ—é©¬å…¶é¡¿", emoji: "ðŸ‡²ðŸ‡°" },
  { re: /\bMT\b|Malta/i, name: "é©¬è€³ä»–", emoji: "ðŸ‡²ðŸ‡¹" },
  { re: /\bMC\b|Monaco/i, name: "æ‘©çº³å“¥", emoji: "ðŸ‡²ðŸ‡¨" },
  { re: /\bAD\b|Andorra/i, name: "å®‰é“å°”", emoji: "ðŸ‡¦ðŸ‡©" },
  { re: /\bLI\b|Liechtenstein/i, name: "åˆ—æ”¯æ•¦å£«ç™»", emoji: "ðŸ‡±ðŸ‡®" },
  { re: /\bSM\b|San\s?Marino/i, name: "åœ£é©¬åŠ›è¯º", emoji: "ðŸ‡¸ðŸ‡²" },
  { re: /\bVA\b|Vatican/i, name: "æ¢µè’‚å†ˆ", emoji: "ðŸ‡»ðŸ‡¦" },
  { re: /\bIM\b|Isle\s?of\s?Man/i, name: "é©¬æ©å²›", emoji: "ðŸ‡®ðŸ‡²" },
  { re: /\bJE\b|Jersey/i, name: "æ³½è¥¿å²›", emoji: "ðŸ‡¯ðŸ‡ª" },
  { re: /\bGG\b|Guernsey/i, name: "æ ¹è¥¿å²›", emoji: "ðŸ‡¬ðŸ‡¬" },
  { re: /\bFO\b|Faroe/i, name: "æ³•ç½—ç¾¤å²›", emoji: "ðŸ‡«ðŸ‡´" },
  { re: /\bGI\b|Gibraltar/i, name: "ç›´å¸ƒç½—é™€", emoji: "ðŸ‡¬ðŸ‡®" },
  { re: /\bGL\b|Greenland/i, name: "æ ¼é™µå…°", emoji: "ðŸ‡¬ðŸ‡±" },
  { re: /\bPA\b|Panama/i, name: "å·´æ‹¿é©¬", emoji: "ðŸ‡µðŸ‡¦" },
  { re: /\bCR\b|Costa\s?Rica/i, name: "å“¥æ–¯è¾¾é»ŽåŠ ", emoji: "ðŸ‡¨ðŸ‡·" },
  { re: /\bGT\b|Guatemala/i, name: "å±åœ°é©¬æ‹‰", emoji: "ðŸ‡¬ðŸ‡¹" },
  { re: /\bHN\b|Honduras/i, name: "æ´ªéƒ½æ‹‰æ–¯", emoji: "ðŸ‡­ðŸ‡³" },
  { re: /\bSV\b|Salvador/i, name: "è¨å°”ç“¦å¤š", emoji: "ðŸ‡¸ðŸ‡»" },
  { re: /\bNI\b|Nicaragua/i, name: "å°¼åŠ æ‹‰ç“œ", emoji: "ðŸ‡³ðŸ‡®" },
  { re: /\bCU\b|Cuba/i, name: "å¤å·´", emoji: "ðŸ‡¨ðŸ‡º" },
  { re: /\bDO\b|Dominican/i, name: "å¤šç±³å°¼åŠ ", emoji: "ðŸ‡©ðŸ‡´" },
  { re: /\bPR\b|Puerto\s?Rico/i, name: "æ³¢å¤šé»Žå„", emoji: "ðŸ‡µðŸ‡·" },
  { re: /\bJM\b|Jamaica/i, name: "ç‰™ä¹°åŠ ", emoji: "ðŸ‡¯ðŸ‡²" },
  { re: /\bTT\b|Trinidad/i, name: "ç‰¹ç«‹å°¼è¾¾å’Œå¤šå·´å“¥", emoji: "ðŸ‡¹ðŸ‡¹" },
  { re: /\bBS\b|Bahamas/i, name: "å·´å“ˆé©¬", emoji: "ðŸ‡§ðŸ‡¸" },
  { re: /\bBB\b|Barbados/i, name: "å·´å·´å¤šæ–¯", emoji: "ðŸ‡§ðŸ‡§" },
  { re: /\bLC\b|Saint\s?Lucia/i, name: "åœ£å¢è¥¿äºš", emoji: "ðŸ‡±ðŸ‡¨" },
  { re: /\bGD\b|Grenada/i, name: "æ ¼æž—çº³è¾¾", emoji: "ðŸ‡¬ðŸ‡©" },
  { re: /\bUY\b|Uruguay/i, name: "ä¹Œæ‹‰åœ­", emoji: "ðŸ‡ºðŸ‡¾" },
  { re: /\bPY\b|Paraguay/i, name: "å·´æ‹‰åœ­", emoji: "ðŸ‡µðŸ‡¾" },
  { re: /\bBO\b|Bolivia/i, name: "çŽ»åˆ©ç»´äºš", emoji: "ðŸ‡§ðŸ‡´" },
  { re: /\bEC\b|Ecuador/i, name: "åŽ„ç“œå¤šå°”", emoji: "ðŸ‡ªðŸ‡¨" },
  { re: /\bVE\b|Venezuela/i, name: "å§”å†…ç‘žæ‹‰", emoji: "ðŸ‡»ðŸ‡ª" },
  { re: /\bGY\b|Guyana/i, name: "åœ­äºšé‚£", emoji: "ðŸ‡¬ðŸ‡¾" },
  { re: /\bSR\b|Suriname/i, name: "è‹é‡Œå—", emoji: "ðŸ‡¸ðŸ‡·" },
  { re: /\bDZ\b|Algeria/i, name: "é˜¿å°”åŠåˆ©äºš", emoji: "ðŸ‡©ðŸ‡¿" },
  { re: /\bMA\b|Morocco/i, name: "æ‘©æ´›å“¥", emoji: "ðŸ‡²ðŸ‡¦" },
  { re: /\bTN\b|Tunisia/i, name: "çªå°¼æ–¯", emoji: "ðŸ‡¹ðŸ‡³" },
  { re: /\bLY\b|Libya/i, name: "åˆ©æ¯”äºš", emoji: "ðŸ‡±ðŸ‡¾" },
  { re: /\bNG\b|Nigeria/i, name: "å°¼æ—¥åˆ©äºš", emoji: "ðŸ‡³ðŸ‡¬" },
  { re: /\bGH\b|Ghana/i, name: "åŠ çº³", emoji: "ðŸ‡¬ðŸ‡­" },
  { re: /\bKE\b|Kenya/i, name: "è‚¯å°¼äºš", emoji: "ðŸ‡°ðŸ‡ª" },
  { re: /\bTZ\b|Tanzania/i, name: "å¦æ¡‘å°¼äºš", emoji: "ðŸ‡¹ðŸ‡¿" },
  { re: /\bUG\b|Uganda/i, name: "ä¹Œå¹²è¾¾", emoji: "ðŸ‡ºðŸ‡¬" },
  { re: /\bET\b|Ethiopia/i, name: "åŸƒå¡žä¿„æ¯”äºš", emoji: "ðŸ‡ªðŸ‡¹" },
  { re: /\bSD\b|Sudan/i, name: "è‹ä¸¹", emoji: "ðŸ‡¸ðŸ‡©" },
  { re: /\bCI\b|Ivory\s?Coast/i, name: "ç§‘ç‰¹è¿ªç“¦", emoji: "ðŸ‡¨ðŸ‡®" },
  { re: /\bCM\b|Cameroon/i, name: "å–€éº¦éš†", emoji: "ðŸ‡¨ðŸ‡²" },
  { re: /\bAO\b|Angola/i, name: "å®‰å“¥æ‹‰", emoji: "ðŸ‡¦ðŸ‡´" },
  { re: /\bZM\b|Zambia/i, name: "èµžæ¯”äºš", emoji: "ðŸ‡¿ðŸ‡²" },
  { re: /\bZW\b|Zimbabwe/i, name: "æ´¥å·´å¸ƒéŸ¦", emoji: "ðŸ‡¿ðŸ‡¼" },
  { re: /\bBW\b|Botswana/i, name: "åšèŒ¨ç“¦çº³", emoji: "ðŸ‡§ðŸ‡¼" },
  { re: /\bNA\b|Namibia/i, name: "çº³ç±³æ¯”äºš", emoji: "ðŸ‡³ðŸ‡¦" },
  { re: /\bMG\b|Madagascar/i, name: "é©¬è¾¾åŠ æ–¯åŠ ", emoji: "ðŸ‡²ðŸ‡¬" },
  { re: /\bRS\b|Serbia/i, name: "å¡žå°”ç»´äºš", emoji: "ðŸ‡·ðŸ‡¸" },
  { re: /\bKP\b|North\s?Korea|Korea\s?DPR/i, name: "æœé²œ", emoji: "ðŸ‡°ðŸ‡µ" },
  { re: /\bSY\b|Syria/i, name: "å™åˆ©äºš", emoji: "ðŸ‡¸ðŸ‡¾" },
  { re: /\bTL\b|Timor/i, name: "ä¸œå¸æ±¶", emoji: "ðŸ‡¹ðŸ‡±" },
  { re: /\bCF\b|Central\s?African/i, name: "ä¸­éžå…±å’Œå›½", emoji: "ðŸ‡¨ðŸ‡«" },
  { re: /\bBZ\b|Belize/i, name: "ä¼¯åˆ©å…¹", emoji: "ðŸ‡§ðŸ‡¿" },
  { re: /\bAG\b|Antigua/i, name: "å®‰æç“œå’Œå·´å¸ƒè¾¾", emoji: "ðŸ‡¦ðŸ‡¬" },
  { re: /\bKN\b|Saint\s?Kitts/i, name: "åœ£åŸºèŒ¨å’Œå°¼ç»´æ–¯", emoji: "ðŸ‡°ðŸ‡³" },
  { re: /\bVC\b|Saint\s?Vincent/i, name: "åœ£æ–‡æ£®ç‰¹å’Œæ ¼æž—çº³ä¸æ–¯", emoji: "ðŸ‡»ðŸ‡¨" },
  { re: /\bDM\b|Dominica\b/i, name: "å¤šç±³å°¼å…‹", emoji: "ðŸ‡©ðŸ‡²" },
  { re: /\bCK\b|Cook\s?Islands/i, name: "åº“å…‹ç¾¤å²›", emoji: "ðŸ‡¨ðŸ‡°" },
  { re: /\bNU\b|Niue/i, name: "çº½åŸƒ", emoji: "ðŸ‡³ðŸ‡º" },
  { re: /\bXK\b|Kosovo/i, name: "ç§‘ç´¢æ²ƒ", emoji: "ðŸ‡½ðŸ‡°" },
  { re: /\bAW\b|Aruba/i, name: "é˜¿é²å·´", emoji: "ðŸ‡¦ðŸ‡¼" },
  { re: /\bBM\b|Bermuda/i, name: "ç™¾æ…•å¤§", emoji: "ðŸ‡§ðŸ‡²" },
  { re: /\bKY\b|Cayman/i, name: "å¼€æ›¼ç¾¤å²›", emoji: "ðŸ‡°ðŸ‡¾" },
  { re: /\bCW\b|Curacao/i, name: "åº“æ‹‰ç´¢", emoji: "ðŸ‡¨ðŸ‡¼" },
  { re: /\bPF\b|Polynesia/i, name: "æ³•å±žæ³¢åˆ©å°¼è¥¿äºš", emoji: "ðŸ‡µðŸ‡«" },
  { re: /\bGM\b|Gambia/i, name: "å†ˆæ¯”äºš", emoji: "ðŸ‡¬ðŸ‡²" },
  { re: /\bGW\b|Bissau/i, name: "å‡ å†…äºšæ¯”ç»", emoji: "ðŸ‡¬ðŸ‡¼" },
  { re: /\bLR\b|Liberia/i, name: "åˆ©æ¯”é‡Œäºš", emoji: "ðŸ‡±ðŸ‡·" },
  { re: /\bMW\b|Malawi/i, name: "é©¬æ‹‰ç»´", emoji: "ðŸ‡²ðŸ‡¼" },
  { re: /\bML\b|Mali/i, name: "é©¬é‡Œ", emoji: "ðŸ‡²ðŸ‡±" },
  { re: /\bMR\b|Mauritania/i, name: "æ¯›é‡Œå¡”å°¼äºš", emoji: "ðŸ‡²ðŸ‡·" },
  { re: /\bNE\b|Niger/i, name: "å°¼æ—¥å°”", emoji: "ðŸ‡³ðŸ‡ª" },
  { re: /\bTG\b|Togo/i, name: "å¤šå“¥", emoji: "ðŸ‡¹ðŸ‡¬" },
  { re: /\bSL\b|Sierra\s?Leone/i, name: "å¡žæ‹‰åˆ©æ˜‚", emoji: "ðŸ‡¸ðŸ‡±" },
  { re: /\bVU\b|Vanuatu/i, name: "ç“¦åŠªé˜¿å›¾", emoji: "ðŸ‡»ðŸ‡º" },
  { re: /\bTO\b|Tonga/i, name: "æ±¤åŠ ", emoji: "ðŸ‡¹ðŸ‡´" },
  { re: /\bWS\b|Samoa/i, name: "è¨æ‘©äºš", emoji: "ðŸ‡¼ðŸ‡¸" },
  { re: /\bSB\b|Solomon/i, name: "æ‰€ç½—é—¨ç¾¤å²›", emoji: "ðŸ‡¸ðŸ‡§" },
  { re: /\bMU\b|Mauritius/i, name: "æ¯›é‡Œæ±‚æ–¯", emoji: "ðŸ‡²ðŸ‡º" },
  { re: /\bSC\b|Seychelles/i, name: "å¡žèˆŒå°”", emoji: "ðŸ‡¸ðŸ‡¨" },
  { re: /\bSN\b|Senegal/i, name: "å¡žå†…åŠ å°”", emoji: "ðŸ‡¸ðŸ‡³" },
  { re: /\bBF\b|Burkina/i, name: "å¸ƒåŸºçº³æ³•ç´¢", emoji: "ðŸ‡§ðŸ‡«" },
  { re: /\bTD\b|Chad/i, name: "ä¹å¾—", emoji: "ðŸ‡¹ðŸ‡©" },
  { re: /\bBJ\b|Benin/i, name: "è´å®", emoji: "ðŸ‡§ðŸ‡¯" },
  { re: /\bGN\b|Guinea/i, name: "å‡ å†…äºš", emoji: "ðŸ‡¬ðŸ‡³" },
  { re: /\bGQ\b|Equatorial/i, name: "èµ¤é“å‡ å†…äºš", emoji: "ðŸ‡¬ðŸ‡¶" },
  { re: /\bGA\b|Gabon/i, name: "åŠ è“¬", emoji: "ðŸ‡¬ðŸ‡¦" },
  { re: /\bCG\b|Congo/i, name: "åˆšæžœï¼ˆå¸ƒ)", emoji: "ðŸ‡¨ðŸ‡¬" },
  { re: /\bCD\b|Kinshasa/i, name: "åˆšæžœï¼ˆé‡‘)", emoji: "ðŸ‡¨ðŸ‡©" },
  { re: /\bMZ\b|Mozambique/i, name: "èŽ«æ¡‘æ¯”å…‹", emoji: "ðŸ‡²ðŸ‡¿" },
  { re: /\bCV\b|Cape\s?Verde/i, name: "ä½›å¾—è§’", emoji: "ðŸ‡¨ðŸ‡»" },
  { re: /\bDJ\b|Djibouti/i, name: "å‰å¸ƒæ", emoji: "ðŸ‡©ðŸ‡¯" },
  { re: /\bSO\b|Somalia/i, name: "ç´¢é©¬é‡Œ", emoji: "ðŸ‡¸ðŸ‡´" },
  { re: /\bFJ\b|Fiji/i, name: "æ–æµŽ", emoji: "ðŸ‡«ðŸ‡¯" },
  { re: /\bPG\b|Papua/i, name: "å·´å¸ƒäºšæ–°å‡ å†…äºš", emoji: "ðŸ‡µðŸ‡¬" },
  { re: /\bGU\b|Guam/i, name: "å…³å²›", emoji: "ðŸ‡¬ðŸ‡º" },
  { re: /\bNC\b|Caledonia/i, name: "æ–°å–€é‡Œå¤šå°¼äºš", emoji: "ðŸ‡³ðŸ‡¨" },
  { re: /\bAQ\b|Antarctica/i, name: "å—æžæ´²", emoji: "ðŸ‡¦ðŸ‡¶" },
  { re: /\bPS\b|Palestine/i, name: "å·´å‹’æ–¯å¦", emoji: "ðŸ‡µðŸ‡¸" },
  { re: /\bRE\b|Reunion/i, name: "ç•™å°¼æ±ª", emoji: "ðŸ‡·ðŸ‡ª" },
  { re: /\bMQ\b|Martinique/i, name: "é©¬æå°¼å…‹", emoji: "ðŸ‡²ðŸ‡¶" },
  { re: /\bGP\b|Guadeloupe/i, name: "ç“œå¾·ç½—æ™®", emoji: "ðŸ‡¬ðŸ‡µ" },
  { re: /\bYT\b|Mayotte/i, name: "é©¬çº¦ç‰¹", emoji: "ðŸ‡¾ðŸ‡¹" },
  { re: /\bGF\b|French\s?Guiana/i, name: "æ³•å±žåœ­äºšé‚£", emoji: "ðŸ‡¬ðŸ‡«" },
  { re: /\bVG\b|Virgin\s?Islands/i, name: "è‹±å±žç»´å°”äº¬ç¾¤å²›", emoji: "ðŸ‡»ðŸ‡¬" },
  { re: /\bVI\b|United\s?States\s?Virgin/i, name: "ç¾Žå±žç»´å°”äº¬ç¾¤å²›", emoji: "ðŸ‡»ðŸ‡®" },
  { re: /\bTC\b|Turks/i, name: "ç‰¹å…‹æ–¯å’Œå‡¯ç§‘æ–¯", emoji: "ðŸ‡¹ðŸ‡¨" },
  { re: /\bAI\b|Anguilla/i, name: "å®‰åœ­æ‹‰", emoji: "ðŸ‡¦ðŸ‡®" },
  { re: /\bPM\b|Miquelon/i, name: "åœ£çš®åŸƒå°”å’Œå¯†å…‹éš†", emoji: "ðŸ‡µðŸ‡²" },
  { re: /\bCN\b|China/i, name: "ä¸­å›½å¤§é™†", emoji: "ðŸ‡¨ðŸ‡³" }
];

function operator(pro) {
  const counts = {};
  return pro
    .filter(p => !(config.clear && RE_CLEAR.test(p.name)))
    .map(p => {
      let matched = REGIONS.find(r => r.re.test(p.name));
      if (!matched) return null;

      const isHome = RE_HOME.test(p.name);
      
      counts[matched.name] = (counts[matched.name] || 0) + 1;
      const num = String(counts[matched.name]).padStart(2, '0');

      const parts = [];
      if (config.flag) parts.push(matched.emoji);
      parts.push(matched.name);
      parts.push(num);
      if (isHome) parts.push("å®¶å®½");

      p.name = parts.join(config.fgf);
      return p;
    })
    .filter(p => p !== null);
}
